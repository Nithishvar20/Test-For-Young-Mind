import{r as o,j as e,A as J,m as F}from"./index-CuAHal8p.js";const Q=["cell","gene","dna","atom","tissue","enzyme","mitosis","chromosome","nucleus","ribosome","mitochondria","photosynthesis","chloroplast","homeostasis","respiration","macromolecule","transcription","translation"],P={cell:"The basic structural and functional unit of life.",gene:"A unit of heredity made of DNA that influences traits.",dna:"Molecule that stores genetic instructions for organisms.",atom:"The smallest unit of ordinary matter that forms chemical elements.",tissue:"A group of similar cells that work together to perform a function.",enzyme:"A protein that speeds up (catalyzes) chemical reactions.",mitosis:"Cell division process producing two identical daughter cells.",chromosome:"Thread-like structure of DNA and proteins carrying genes.",nucleus:"The control center of a cell where DNA is stored.",ribosome:"Cell structure where proteins are synthesized.",mitochondria:"Organelles known as the powerhouse of the cell (ATP production).",photosynthesis:"Process by which plants convert sunlight into chemical energy.",chloroplast:"Green organelle in plant cells where photosynthesis occurs.",homeostasis:"The ability of an organism to maintain internal stability.",respiration:"Cellular process of extracting energy from glucose.",macromolecule:"A very large molecule (like proteins, nucleic acids, carbs).",transcription:"First step of gene expression: DNA is copied into RNA.",translation:"Process of decoding RNA to assemble proteins."},m=[{time:45,count:3},{time:50,count:4},{time:60,count:5},{time:75,count:6}],E=a=>{const s=a.slice();for(let l=s.length-1;l>0;l--){const h=Math.floor(Math.random()*(l+1));[s[l],s[h]]=[s[h],s[l]]}return s},C=a=>{const s=m[Math.min(a,m.length-1)].count,l=Q.filter(h=>h.length>=Math.max(3,3+Math.floor(a/1)));return E(l).slice(0,s)};function ie(){const[a,s]=o.useState(0),[l,h]=o.useState(()=>C(0)),[c,x]=o.useState(0),[p,y]=o.useState([]),[S,j]=o.useState([]),[T,v]=o.useState(""),[k,M]=o.useState(m[0].time),[g,w]=o.useState(!0),[$,I]=o.useState(0),[G,V]=o.useState(()=>Number(localStorage.getItem("anagram_best")||0)),[b,f]=o.useState(null),[W,U]=o.useState(0),L=o.useRef(null),B=o.useRef(!1);o.useEffect(()=>{const t=l[c]||l[0];if(!t)return;const i=t.split("").map((r,d)=>({ch:r.toUpperCase(),id:`${r}-${d}-${Math.random().toString(36).slice(2,6)}`,used:!1}));y(E(i)),j([]),v(""),f(null),U(0),M(m[Math.min(a,m.length-1)].time),w(!0)},[c,l,a]),o.useEffect(()=>{if(g)return L.current=setInterval(()=>{M(t=>t<=1?(clearInterval(L.current),w(!1),f("timeout"),0):t-1)},1e3),()=>clearInterval(L.current)},[g,c]),o.useEffect(()=>{function t(i){const r=i.key;if(/^[a-zA-Z]$/.test(r)){Y(r.toUpperCase());return}if(r==="Backspace"){_();return}if(r==="Enter"){N();return}}return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[p,S,T]);function Y(t){const i=p.find(r=>!r.used&&r.ch===t);i&&z(i.id)}function z(t){if(B.current||!g)return;const i=p.find(r=>r.id===t);!i||i.used||(y(r=>r.map(d=>d.id===t?{...d,used:!0}:d)),j(r=>[...r,t]),v(r=>r+i.ch),navigator.vibrate&&navigator.vibrate(8))}function _(){if(!S.length||!g)return;const t=S[S.length-1];j(i=>i.slice(0,-1)),y(i=>i.map(r=>r.id===t?{...r,used:!1}:r)),v(i=>i.slice(0,-1))}function R(){g&&(j([]),y(t=>t.map(i=>({...i,used:!1}))),v(""))}function D(){g&&y(t=>E(t.map(i=>({...i}))))}function X(){if(W>=2||!g)return;const t=(l[c]||"").toUpperCase(),i=T.length;if(i>=t.length)return;const r=t[i],d=p.find(u=>!u.used&&u.ch===r);d?(U(u=>u+1),z(d.id)):(R(),setTimeout(()=>{const u=p.find(H=>!H.used&&H.ch===r);u&&z(u.id)},140))}function N(){if(B.current||!g)return;B.current=!0,setTimeout(()=>B.current=!1,300);const t=T.trim().toUpperCase(),i=(l[c]||"").toUpperCase();if(!t){f("wrong"),setTimeout(()=>f(null),600);return}if(t===i){f("correct");const r=Math.max(10,i.length*6)+Math.floor(k/2);I(d=>d+r),setTimeout(()=>{if(c+1<l.length)x(d=>d+1);else{const d=Math.min(a+1,m.length-1);s(d);const u=C(d);h(u),x(0)}f(null)},900),setTimeout(()=>{V(d=>{const u=Math.max(d,$+r);return localStorage.setItem("anagram_best",u.toString()),u})},300)}else f("wrong"),I(r=>Math.max(0,r-Math.max(1,Math.floor(i.length/2)))),M(r=>Math.max(6,r-7)),setTimeout(()=>{f(null),R()},800)}o.useEffect(()=>{k===0&&(w(!1),f("timeout"))},[k]);function K(){s(0);const t=C(0);h(t),x(0),I(0),M(m[0].time),w(!0),f(null),y([]),j([]),v("")}const A=l[c]||"",O=Math.max(0,k/m[Math.min(a,m.length-1)].time*100),Z=o.useMemo(()=>new Array(10).fill(0).map((t,i)=>({left:Math.random()*100,top:Math.random()*80,size:18+Math.random()*60,delay:Math.random()*6,duration:8+Math.random()*12,opacity:.06+Math.random()*.16})),[]),q=Math.min(8,Math.max(4,p.length||6));return e.jsxs("div",{style:n.root,children:[e.jsxs("div",{style:n.bg,children:[Z.map((t,i)=>e.jsx("div",{style:{...n.bubble,left:`${t.left}%`,top:`${t.top}%`,width:t.size,height:t.size,animationDuration:`${t.duration}s`,animationDelay:`${t.delay}s`,opacity:t.opacity}},i)),e.jsx("div",{style:n.dnaWatermark,"aria-hidden":!0})]}),e.jsxs("div",{style:n.container,children:[e.jsxs("div",{style:n.header,children:[e.jsxs("div",{children:[e.jsx("div",{style:n.title,children:"ðŸ”¬ Bio Scramble"}),e.jsx("div",{style:n.subtitle,children:"Form the biology word from the glowing tiles"})]}),e.jsxs("div",{style:n.topStats,children:[e.jsxs("div",{style:n.statCard,children:[e.jsx("div",{style:{fontSize:12,color:"rgba(255,255,255,0.7)"},children:"Level"}),e.jsx("div",{style:{fontWeight:900,fontSize:18},children:a+1})]}),e.jsxs("div",{style:n.statCard,children:[e.jsx("div",{style:{fontSize:12,color:"rgba(255,255,255,0.7)"},children:"Score"}),e.jsx("div",{style:{fontWeight:900,fontSize:18},children:$})]}),e.jsxs("div",{style:n.statCard,children:[e.jsx("div",{style:{fontSize:12,color:"rgba(255,255,255,0.7)"},children:"Best"}),e.jsx("div",{style:{fontWeight:900,fontSize:18},children:G})]})]})]}),e.jsxs("div",{style:n.contentGrid,children:[e.jsxs("div",{style:n.mainCard,children:[e.jsxs("div",{style:n.mainTop,children:[e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsx("button",{onClick:()=>w(t=>!t),style:n.iconBtn,children:g?"â¸":"â–¶"}),e.jsx("button",{onClick:D,style:n.iconBtn,children:"ðŸ”€"}),e.jsx("button",{onClick:X,style:{...n.iconBtn,opacity:W>=2?.5:1},disabled:W>=2,children:"ðŸ’¡"}),e.jsx("button",{onClick:K,style:{...n.iconBtn,background:"#2a1a2e"},children:"âŸ²"})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:12},children:e.jsx("div",{style:{width:84,height:84},children:e.jsx(ee,{percent:O,seconds:k})})})]}),e.jsx("div",{style:{background:"linear-gradient(90deg, rgba(255,255,255,0.03), rgba(0,0,0,0.06))",padding:"10px 14px",borderRadius:12,marginTop:14,fontSize:15,textAlign:"center",color:"rgba(255,255,255,0.9)"},children:b==="correct"?`Correct â€” ${P[A.toLowerCase()]||"Nice work!"}`:P[A.toLowerCase()]||"Unscramble the biology term"}),e.jsx("div",{style:{marginTop:18,display:"flex",justifyContent:"center"},children:e.jsx(J,{mode:"wait",children:e.jsx(F.div,{initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.98,opacity:0},transition:{duration:.28},style:{...n.answerBox,...b==="correct"?n.answerCorrect:{},...b==="wrong"?n.answerWrong:{},...b==="timeout"?n.answerTimeout:{}},children:e.jsx("div",{style:{fontSize:20,fontWeight:800},children:T||e.jsx("span",{style:{color:"rgba(255,255,255,0.45)"},children:"Tap letters to form the word"})})},b||"word-display")})}),e.jsxs("div",{style:{marginTop:22},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${q}, 1fr)`,gap:12},children:p.map(t=>e.jsx(F.button,{onClick:()=>z(t.id),whileTap:{scale:t.used?1:.96},animate:t.used?{scale:.96,opacity:.55}:{scale:1,opacity:1},transition:{type:"spring",stiffness:400,damping:20},disabled:t.used||!g,style:{...n.tile,background:t.used?"rgba(255,255,255,0.04)":"linear-gradient(180deg,#60a5fa,#2563eb)",boxShadow:t.used?"none":"0 10px 30px rgba(37,99,235,0.16)",cursor:t.used?"default":"pointer"},children:e.jsx("div",{style:{fontSize:24,fontWeight:900},children:t.ch})},t.id))}),e.jsxs("div",{style:{display:"flex",gap:10,justifyContent:"center",marginTop:14},children:[e.jsx("button",{onClick:_,style:n.actionBtn,children:"â†"}),e.jsx("button",{onClick:R,style:n.actionBtn,children:"Clear"}),e.jsx("button",{onClick:N,style:{...n.actionBtn,background:"linear-gradient(90deg,#34d399,#10b981)"},children:"Submit"})]})]})]}),e.jsxs("aside",{style:n.sideCard,children:[e.jsx("div",{style:{fontWeight:900,marginBottom:8},children:"Round Info"}),e.jsxs("div",{style:n.infoRow,children:[e.jsx("div",{style:n.infoLabel,children:"Word length"}),e.jsx("div",{style:n.infoValue,children:A.length})]}),e.jsxs("div",{style:n.infoRow,children:[e.jsx("div",{style:n.infoLabel,children:"Hints left"}),e.jsx("div",{style:n.infoValue,children:Math.max(0,2-W)})]}),e.jsxs("div",{style:{marginTop:10},children:[e.jsx("div",{style:{fontWeight:800},children:"Words this level"}),e.jsx("div",{style:{marginTop:8},children:l.map((t,i)=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 10px",borderRadius:8,background:i===c?"rgba(255,255,255,0.04)":"transparent",marginBottom:8},children:[e.jsxs("div",{style:{color:"rgba(255,255,255,0.9)"},children:["#",i+1]}),e.jsxs("div",{style:{color:"rgba(255,255,255,0.6)"},children:[t.length," letters"]})]},i))})]}),e.jsxs("div",{style:{marginTop:12},children:[e.jsx("div",{style:{fontWeight:800},children:"How to play"}),e.jsxs("ol",{style:{marginTop:8,marginLeft:18},children:[e.jsx("li",{children:"Tap tiles to spell the target word."}),e.jsx("li",{children:"Use hint to reveal a letter (max 2 / round)."}),e.jsx("li",{children:"Submit when ready. Faster solves award more points."})]})]}),e.jsxs("div",{style:{marginTop:14,display:"flex",gap:8},children:[e.jsx("button",{onClick:D,style:n.smallBtn,children:"Shuffle"}),e.jsx("button",{onClick:()=>{const t=Math.max(0,a-1);s(t),h(C(t)),x(0)},style:n.smallBtn,children:"-L"}),e.jsx("button",{onClick:()=>{const t=Math.min(a+1,m.length-1);s(t),h(C(t)),x(0)},style:n.smallBtn,children:"+L"})]})]})]})]})]})}function ee({percent:a=100,seconds:s=0}){const c=2*Math.PI*34,x=a/100*c,p=c-x;return e.jsxs("svg",{width:84,height:84,viewBox:"0 0 84 84",style:{display:"block"},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"gradTimer",x1:"0",x2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#60a5fa"}),e.jsx("stop",{offset:"100%",stopColor:"#7c3aed"})]})}),e.jsxs("g",{transform:"translate(42,42)",children:[e.jsx("circle",{r:34,fill:"rgba(255,255,255,0.02)",stroke:"rgba(255,255,255,0.04)",strokeWidth:"6"}),e.jsx("circle",{r:34,fill:"none",stroke:"rgba(255,255,255,0.04)",strokeWidth:"6",strokeLinecap:"round"}),e.jsx("circle",{r:34,fill:"none",stroke:"url(#gradTimer)",strokeWidth:"6",strokeLinecap:"round",strokeDasharray:`${x} ${p}`,strokeDashoffset:.25*c,transform:"rotate(-90)"}),e.jsxs("text",{x:"0",y:"5",textAnchor:"middle",style:{fontSize:12,fontWeight:800,fill:"#fff"},children:[s,"s"]})]})]})}const n={root:{position:"relative",minHeight:"100vh",overflow:"hidden",background:"linear-gradient(180deg,#071426,#041022)",color:"#fff",paddingBottom:48},bg:{position:"absolute",inset:0,overflow:"hidden",zIndex:0},bubble:{position:"absolute",borderRadius:"50%",background:"radial-gradient(circle at 30% 30%, rgba(255,255,255,0.12), rgba(255,255,255,0.02))",filter:"blur(6px)",transform:"translateY(0)",animationName:"floaty",animationTimingFunction:"linear",animationIterationCount:"infinite"},dnaWatermark:{position:"absolute",right:"-10%",top:"10%",width:"60%",height:"80%",backgroundImage:"radial-gradient(circle at 20% 20%, rgba(255,255,255,0.02), transparent 20%), repeating-linear-gradient(45deg, rgba(255,255,255,0.01) 0 6px, transparent 6px 12px)",transform:"rotate(-12deg)",opacity:.12,mixBlendMode:"overlay"},container:{position:"relative",zIndex:2,maxWidth:1200,margin:"0 auto",paddingTop:80,paddingLeft:20,paddingRight:20},header:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:20},title:{fontSize:28,fontWeight:900,letterSpacing:.2},subtitle:{color:"rgba(255,255,255,0.7)",fontSize:13},topStats:{display:"flex",gap:12,alignItems:"center"},statCard:{background:"linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))",padding:"10px 12px",borderRadius:10,textAlign:"center",minWidth:78},contentGrid:{display:"grid",gridTemplateColumns:"1fr 360px",gap:18,marginTop:18},mainCard:{background:"linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06))",borderRadius:14,padding:18,minHeight:420,boxShadow:"0 8px 30px rgba(2,6,23,0.6)"},mainTop:{display:"flex",justifyContent:"space-between",alignItems:"center"},answerBox:{padding:"14px 20px",borderRadius:14,background:"linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))",border:"1px solid rgba(255,255,255,0.04)",minWidth:360,textAlign:"center"},answerCorrect:{background:"linear-gradient(90deg,#a7f3d0,#22c55e)",color:"#062014",boxShadow:"0 12px 36px rgba(34,197,94,0.12)"},answerWrong:{background:"linear-gradient(90deg,#fecaca,#ef4444)",color:"#2a0b07",boxShadow:"0 12px 36px rgba(239,68,68,0.12)"},answerTimeout:{background:"linear-gradient(90deg,#fde68a,#f97316)",color:"#2a1606"},tile:{height:72,borderRadius:12,border:"none",fontSize:22,fontWeight:900,color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},actionBtn:{padding:"10px 14px",borderRadius:12,border:"none",background:"rgba(255,255,255,0.04)",color:"#fff",fontWeight:800,cursor:"pointer"},sideCard:{background:"linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06))",borderRadius:12,padding:14,minHeight:420},infoRow:{display:"flex",justifyContent:"space-between",marginTop:8,alignItems:"center"},infoLabel:{color:"rgba(255,255,255,0.7)"},infoValue:{fontWeight:900},iconBtn:{padding:"10px 12px",borderRadius:10,border:"none",background:"rgba(255,255,255,0.04)",color:"#fff",fontWeight:800,cursor:"pointer"},smallBtn:{padding:"8px 12px",borderRadius:8,border:"none",background:"#6366f1",color:"#fff",fontWeight:800,cursor:"pointer"}},te=`
@keyframes floaty {
  0% { transform: translateY(0) translateX(0) scale(1); }
  50% { transform: translateY(-18px) translateX(6px) scale(1.06); }
  100% { transform: translateY(0) translateX(0) scale(1); }
}
`;if(typeof document<"u"){const a="__anagram_bio_keyframes__";if(!document.getElementById(a)){const s=document.createElement("style");s.id=a,s.innerHTML=te,document.head.appendChild(s)}}export{ie as default};
