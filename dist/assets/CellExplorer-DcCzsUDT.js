import{r as l,j as e,c as B}from"./index-CuAHal8p.js";const j={forest:[{id:"tree",name:"Tree",role:"producer",desc:"Makes food via photosynthesis.",icon:"ðŸŒ³"},{id:"grass",name:"Grass",role:"producer",desc:"Ground vegetation, food source.",icon:"ðŸŒ¾"},{id:"rabbit",name:"Rabbit",role:"primary",desc:"Herbivore â€” eats plants.",icon:"ðŸ‡"},{id:"deer",name:"Deer",role:"primary",desc:"Primary consumer â€” eats plants.",icon:"ðŸ¦Œ"},{id:"fox",name:"Fox",role:"secondary",desc:"Small predator â€” eats primary consumers.",icon:"ðŸ¦Š"},{id:"hawk",name:"Hawk",role:"secondary",desc:"Bird of prey â€” eats small animals.",icon:"ðŸ¦…"},{id:"wolf",name:"Wolf",role:"tertiary",desc:"Apex predator in forests.",icon:"ðŸº"}],ocean:[{id:"algae",name:"Algae",role:"producer",desc:"Photosynthetic base of ocean food webs.",icon:"ðŸª¸"},{id:"plankton",name:"Plankton",role:"producer",desc:"Microscopic producers floating in water.",icon:"ðŸŒŠ"},{id:"krill",name:"Krill",role:"primary",desc:"Small crustaceans that feed on plankton.",icon:"ðŸ¦"},{id:"fish",name:"Fish",role:"secondary",desc:"Small fish eating krill.",icon:"ðŸŸ"},{id:"seal",name:"Seal",role:"secondary",desc:"Marine predator, eats fish.",icon:"ðŸ¦­"},{id:"shark",name:"Shark",role:"tertiary",desc:"Apex predator in oceans.",icon:"ðŸ¦ˆ"}],desert:[{id:"cactus",name:"Cactus",role:"producer",desc:"Stores water, makes food via photosynthesis.",icon:"ðŸŒµ"},{id:"drygrass",name:"Dry Grass",role:"producer",desc:"Sparse desert vegetation.",icon:"ðŸŒ±"},{id:"rat",name:"Kangaroo Rat",role:"primary",desc:"Eats seeds & plants.",icon:"ðŸ€"},{id:"snake",name:"Snake",role:"secondary",desc:"Feeds on rodents.",icon:"ðŸ"},{id:"hawk2",name:"Hawk",role:"tertiary",desc:"Apex predator in desert skies.",icon:"ðŸ¦…"}]},s={roles:["producer","primary","secondary","tertiary"]};function R({species:n,selected:i,onClick:o}){return e.jsxs("button",{onClick:()=>o(n),style:{display:"flex",gap:12,alignItems:"center",padding:"14px 16px",borderRadius:12,border:"1px solid rgba(255,255,255,0.08)",background:i?"rgba(255,255,255,0.06)":"transparent",width:"100%",textAlign:"left",cursor:"pointer"},"aria-pressed":!!i,children:[e.jsx("div",{style:{fontSize:24},children:n.icon}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:800,fontSize:15,color:"#fff"},children:n.name}),e.jsx("div",{style:{fontSize:13,color:"rgba(255,255,255,0.72)",marginTop:6},children:n.desc})]})]})}function L({needRole:n,placed:i,onTap:o,status:a}){const d=a==="correct"?"rgba(34,197,94,0.95)":a==="incorrect"?"rgba(239,68,68,0.95)":"rgba(255,255,255,0.1)";return e.jsxs("div",{onClick:o,role:"button",tabIndex:0,style:{height:170,borderRadius:12,padding:18,border:`2px solid ${d}`,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",cursor:"pointer",background:"linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.02))"},children:[e.jsxs("div",{style:{fontSize:13,color:"rgba(255,255,255,0.72)",marginBottom:8},children:["Needs: ",e.jsx("b",{style:{textTransform:"capitalize"},children:n})]}),i?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{fontSize:36},children:i.icon}),e.jsx("div",{style:{marginTop:8,fontWeight:800,color:"#fff"},children:i.name}),e.jsx("div",{style:{marginTop:8,color:a==="correct"?"#22c55e":"#ef4444",fontWeight:700},children:a==="correct"?"Correct":"Incorrect"})]}):e.jsx("div",{style:{color:"rgba(255,255,255,0.5)"},children:"Tap to place"})]})}function z(){const[n,i]=l.useState("forest"),[o,a]=l.useState(null),[d,h]=l.useState(s.roles.map(()=>null)),[v,f]=l.useState(s.roles.map(()=>null)),[k,u]=l.useState(0),[m,S]=l.useState(1),y=l.useMemo(()=>j[n]||[],[n]);function b(){B({particleCount:80,spread:70,origin:{y:.6},colors:["#22c55e","#4ade80","#86efac"]})}function w(r){if(!o)return;const t=s.roles[r],c=o.role===t;h(p=>{const g=[...p];return g[r]=o,g}),f(p=>{const g=[...p];return g[r]=c?"correct":"incorrect",g}),u(p=>p+(c?10:-5)),a(null),c&&b()}function x(){h(s.roles.map(()=>null)),f(s.roles.map(()=>null)),u(0)}function T(){const r=s.roles.map(t=>y.find(c=>c.role===t)||null);h(r),f(r.map(t=>t?"correct":null)),u(50+m*10),b()}function C(){S(r=>Math.min(10,r+1)),x()}return l.useEffect(()=>{const r=t=>{t.preventDefault(),window.history.pushState(null,"","/games/lab/biology"),window.location.replace("/games/lab/biology")};return window.handleLabBack=()=>{window.location.replace("/games/lab/biology")},window.addEventListener("popstate",r),()=>{window.removeEventListener("popstate",r),delete window.handleLabBack}},[]),e.jsxs("div",{style:{position:"absolute",inset:"50px 0 0 0",overflow:"auto",padding:28,color:"#fff",background:"linear-gradient(180deg,#071129 0%, #0b1220 100%)"},children:[e.jsxs("h1",{style:{textAlign:"center",fontSize:40,fontWeight:900,marginBottom:12,color:"#fff"},children:["Food Chain Builder â€”"," ",n.charAt(0).toUpperCase()+n.slice(1)]}),e.jsx("p",{style:{textAlign:"center",color:"rgba(255,255,255,0.75)",marginBottom:20},children:"Build a correct food chain by placing the right species into each slot. Tap a species (left) then a slot (center) to place it."}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"320px 1fr 320px",gap:22,maxWidth:1300,margin:"0 auto"},children:[e.jsxs("aside",{style:{padding:16,borderRadius:12,background:"rgba(255,255,255,0.04)"},children:[e.jsx("div",{style:{display:"flex",gap:8,marginBottom:12},children:Object.keys(j).map(r=>e.jsx("button",{onClick:()=>{i(r),x()},style:{padding:"6px 10px",borderRadius:8,border:"none",background:n===r?"linear-gradient(90deg,#16a34a,#059669)":"rgba(255,255,255,0.08)",color:"#fff",cursor:"pointer",fontWeight:700,textTransform:"capitalize"},children:r},r))}),e.jsx("h3",{style:{marginTop:6,marginBottom:12,color:"#fff"},children:"Species Palette"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10,maxHeight:520,overflow:"auto",paddingRight:6},children:y.map(r=>e.jsx(R,{species:r,selected:(o==null?void 0:o.id)===r.id,onClick:a},r.id))})]}),e.jsxs("main",{style:{padding:16},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${s.roles.length}, 1fr)`,gap:16},children:s.roles.map((r,t)=>e.jsx(L,{needRole:r,placed:d[t],status:v[t],onTap:()=>w(t)},t))}),e.jsxs("div",{style:{marginTop:20,display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},children:[e.jsxs("div",{style:{color:"rgba(255,255,255,0.8)"},children:[e.jsxs("div",{children:["Placed: ",d.filter(Boolean).length," / ",s.roles.length]}),e.jsx("div",{style:{marginTop:8,color:"rgba(255,255,255,0.7)"},children:"Tip: A healthy food chain starts with producers (plants) â€” they provide energy for the rest."})]}),e.jsx("div",{style:{flex:1},children:e.jsx("div",{style:{height:10,background:"rgba(255,255,255,0.1)",borderRadius:8,overflow:"hidden"},children:e.jsx("div",{style:{width:`${d.filter(Boolean).length/s.roles.length*100}%`,height:"100%",background:"linear-gradient(90deg,#22c55e,#16a34a)"}})})}),e.jsx("div",{style:{display:"flex",gap:8},children:e.jsx("button",{onClick:C,style:{padding:"8px 12px",borderRadius:8,background:"rgba(255,255,255,0.08)",border:"none",color:"#fff",cursor:"pointer"},children:"+ Level"})})]})]}),e.jsxs("aside",{style:{padding:16,borderRadius:12,background:"rgba(255,255,255,0.04)"},children:[e.jsx("h3",{style:{color:"#fff"},children:"Inspector"}),o?e.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center"},children:[e.jsx("div",{style:{fontSize:40},children:o.icon}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:900,color:"#fff"},children:o.name}),e.jsx("div",{style:{color:"rgba(255,255,255,0.75)"},children:o.desc}),e.jsxs("div",{style:{marginTop:6,fontSize:13,color:"rgba(255,255,255,0.65)"},children:["Role: ",o.role]})]})]}):e.jsx("div",{style:{color:"rgba(255,255,255,0.7)"},children:"Select a species to see details here."}),e.jsxs("div",{style:{marginTop:20},children:[e.jsx("h4",{style:{marginBottom:8,color:"#fff"},children:"Level & Score"}),e.jsxs("div",{style:{marginBottom:8},children:["Level: ",e.jsx("b",{children:m})]}),e.jsxs("div",{style:{marginBottom:8},children:["Score: ",e.jsx("b",{children:k})]}),e.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[e.jsx("button",{onClick:x,style:{flex:1,padding:"10px 12px",borderRadius:10,border:"none",background:"#ef4444",color:"#fff",fontWeight:800,cursor:"pointer"},children:"Reset"}),e.jsx("button",{onClick:T,style:{flex:1,padding:"10px 12px",borderRadius:10,border:"none",background:"#10b981",color:"#000",fontWeight:800,cursor:"pointer"},children:"Auto Fill"})]})]}),e.jsxs("div",{style:{marginTop:20},children:[e.jsx("h4",{style:{color:"#fff"},children:"Learning Notes"}),e.jsxs("ul",{style:{color:"rgba(255,255,255,0.78)"},children:[e.jsx("li",{children:"Producers make food using sunlight."}),e.jsx("li",{children:"Primary consumers eat producers (herbivores)."}),e.jsx("li",{children:"Secondary consumers prey on primary consumers."}),e.jsx("li",{children:"Tertiary consumers are apex predators."})]})]})]})]})]})}export{z as default};
